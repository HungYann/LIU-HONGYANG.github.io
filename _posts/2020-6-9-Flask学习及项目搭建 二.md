---
layout: post
author: LIU,HONGYANG
tags: [Python]
---





```
---
layout: post
author: LIU,HONGYANG
tags: [Python]

---





##### for循环遍历列表和字典



>  字典的遍历，语法和`python`一样，可以使用`items()`、`keys()` 、 `values()` 、 `iteritems()`  、 `iterkeys()`、  `itervalues()`



​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():

    user={
        'username':u'黄勇',
        'age':18
    }


    return render_template("index.html", user= user)

if __name__ == '__main__':
    app.run(debug=True)

​```



​```python
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body>
     {% for k,v in user.items() %}
    <p>{{k}}:{{v}}</p>
     {% endfor %}
</body>
</html>
​```



>  列表的遍历



语法和python一样



​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():



    websites = ['www.baidu.com','www.google.com']

    return render_template("index.html",websites = websites)

if __name__ == '__main__':
    app.run(debug=True)
​```





​```python
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body
     {% for website in websites%}
     <p>{{ website }}</p>
     {% endfor %}
</body>
</html>
​```



>  遍历字典



​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():
    book = [

        {'username': 'liuhongyang',
                'age': 28
        },

        {'name':u'红楼梦',
          'age':2
         }
    ]

    return render_template("index.html", book = book)

if __name__ == '__main__':
    app.run(debug=True)
​```



​```python
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body>


    <table>
        <thead>
            <td>书名</td>
            <td>年龄</td>
        </thead>
        {% for book in book%}
            <tr>
                <td>{{ book.username }}</td>
                <td>{{ book.age }}</td>
            </tr>
        {% endfor %}
    </table>
</body>
</html>

​```







##### 过滤器



过滤器可以处理变量，把原始的变量经过处理后展示出来。常见的过滤器有`default`和 `length`



​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():

    comments= [
        {
            'user':'111',
            'content':'222'
        },
        {
            'user':'333',
            'content':'444'
        }
        ,
        {
            'user': '555',
            'content': '666'
        }
    ]

    return render_template('index.html',comments=comments)

if __name__ == '__main__':
    app.run(debug=True)

​```



​```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body>

评论数({{ comments|length }})

</body>


</html>

​```



##### 类的继承



通过类的继承，显示Person的值在Student类中



​```python
from flask import Flask,render_template

app = Flask(__name__)

class Person(object):
    name = 'liuhongyang'
    age = 10

class Student(Person):
    pass
  
s = Student()

context = {
    'student':s
}
@app.route('/')
def index():
    return render_template('index.html',context=context)

if __name__ == '__main__':
    app.run(debug=True)
​```



​```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hello</title>
</head>
<body>

姓名：{{context.student.name}}
年龄：{{context.student.age }}
  
</body>
</html>

​```



##### 继承和Block



>  1.继承作用和语法

- 作用：可以把一些公共代码放在父模版中，避免每个模版写同样的代码
- 语法：



**template08.py**

​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')



@app.route('/login/')
def login():
    return render_template('login.html')


if __name__ == '__main__':
    app.run(debug=True)
​```



**base.html**

​```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
       <style>

        .nav{
            background: #3a3a3a;
            height: 65px;
        }

        ul{
            overflow: hidden;

        }

        ul li{
            float: left;
            list-style: none;
        }

        ul li a{
            color: #fff;
            list-style: none;
            padding: 0 10px;
            line-height: 65px;
        }

    </style>
</head>
<body>


<div class="nav">
    <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">发布问答</a></li>
    </ul>
</div>


</body>
</html>
​```





**index.html**

​```html
{% extends 'base.html' %}
​```



**login.html**

​```html
{% extends 'base.html' %}
​```







> 2.block块实现：

作用：

可以让子模版实现自己的需求。父模版需要提前定义好

注意点：子模版中的代码，必须放在block块中



不能够在block外面写代码





**template08.py**

​```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')



@app.route('/login/')
def login():
    return render_template('login.html')


if __name__ == '__main__':
    app.run(debug=True)
​```



**base.html**



​```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
       <style>

        .nav{
            background: #3a3a3a;
            height: 65px;
        }

        ul{
            overflow: hidden;

        }

        ul li{
            float: left;
            list-style: none;
        }

        ul li a{
            color: #fff;
            list-style: none;
            padding: 0 10px;
            line-height: 65px;
        }

    </style>
</head>
<body>


<div class="nav">
    <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">发布问答</a></li>
    </ul>
</div>
{% block main%}

{% endblock %}

</body>
</html>
​```



**index.html**

​```html
{% extends 'base.html' %}
{% block title %}
登录
{% endblock %}
{% block main %}
<h1>这是登录页面</h1>
{% endblock %}
​```



**login.html**

​```html
{% extends 'base.html' %}
{% block title %}
首页
{% endblock %}

{% block main %}
<h1>这是首页</h1>
{% endblock%}
​```




```

