---
layout: post
author: LIU,HONGYANG
tags: [Python]
---





> 2.block块实现：

作用：

可以让子模版实现自己的需求。父模版需要提前定义好

注意点：子模版中的代码，必须放在block块中



不能够在block外面写代码





**template08.py**

```python
from flask import Flask,render_template

app = Flask(__name__)

@app.route('/')
def index():
    return render_template('index.html')



@app.route('/login/')
def login():
    return render_template('login.html')


if __name__ == '__main__':
    app.run(debug=True)
```



**base.html**



```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
       <style>

        .nav{
            background: #3a3a3a;
            height: 65px;
        }

        ul{
            overflow: hidden;

        }

        ul li{
            float: left;
            list-style: none;
        }

        ul li a{
            color: #fff;
            list-style: none;
            padding: 0 10px;
            line-height: 65px;
        }

    </style>
</head>
<body>


<div class="nav">
    <ul>
            <li><a href="#">首页</a></li>
            <li><a href="#">发布问答</a></li>
    </ul>
</div>
{% block main%}

{% endblock %}

</body>
</html>
```



**index.html**

```html
{% extends 'base.html' %}
{% block title %}
登录
{% endblock %}
{% block main %}
<h1>这是登录页面</h1>
{% endblock %}
```



**login.html**

```html
{% extends 'base.html' %}
{% block title %}
首页
{% endblock %}

{% block main %}
<h1>这是首页</h1>
{% endblock%}
```



##### URL链接和加载静态文件



**app.py**

```python
from flask import Flask,render_template

app = Flask(__name__)


@app.route('/')
def index():
    return render_template('index.html')


@app.route('/login/')
def login():
    return render_template('login.html')

if __name__ == '__main__':
    app.run()

```



```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='css/index.css') }}">
    <script src="{{ url_for('static',filename='js/index.js') }}"></script>
</head>
<body>
<a href="{{ url_for('login') }}">登录</a>
<img src="{{ url_for('static',filename='images/1.png') }}">

</body>
</html>
```







![image-20200309150758907](https://tva1.sinaimg.cn/large/00831rSTgy1gcnoydtxqcj30gy0gyab9.jpg)



##### 数据库



更改Mysql密码

```mysql
mysqladmin -uroot password [root]
mysql -uroot -p
```



使用python连接mysql

```mysql
import mysql.connector
mydb = mysql.connector.connect(host='localhost',user='root',passwd='lhy942821',database='demo')
mycursor = mydb.cursor()
mycursor.execute("SHOW TABLES")
for x in mycursor:  print(x)
```





##### 对象关系模型



ORM的好处，可以将数据库中的一个表抽象成一个类，一条数据抽象成该类的一个对象。



ORM与flask_sqlalchemy

 ```shell
pip install flask-sqlalchemy
 ```



https://www.liaoxuefeng.com/wiki/1016959663602400/1017803857459008