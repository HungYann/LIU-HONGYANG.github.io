<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MemorySegment (Java SE 14 &amp; JDK 14)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: module: jdk.incubator.foreign, package: jdk.incubator.foreign, interface: MemorySegment">
<meta name="generator" content="javadoc/ClassWriterImpl">
<meta name="keywords" content="jdk.incubator.foreign.MemorySegment interface">
<meta name="keywords" content="baseAddress()">
<meta name="keywords" content="acquire()">
<meta name="keywords" content="ownerThread()">
<meta name="keywords" content="byteSize()">
<meta name="keywords" content="asReadOnly()">
<meta name="keywords" content="asSlice()">
<meta name="keywords" content="isAlive()">
<meta name="keywords" content="isReadOnly()">
<meta name="keywords" content="close()">
<meta name="keywords" content="asByteBuffer()">
<meta name="keywords" content="toByteArray()">
<meta name="keywords" content="ofByteBuffer()">
<meta name="keywords" content="ofArray()">
<meta name="keywords" content="allocateNative()">
<meta name="keywords" content="mapFromPath()">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":1,"i2":1,"i3":1,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6,"i10":6,"i11":6,"i12":1,"i13":1,"i14":1,"i15":1,"i16":1,"i17":1,"i18":1,"i19":1,"i20":1,"i21":6,"i22":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemorySegment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><div style="margin-top: 14px;"><strong>Java SE 14 &amp; JDK 14</strong> </div></div>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="moduleLabelInType">Module</span>&nbsp;<a href="../../../module-summary.html">jdk.incubator.foreign</a></div>
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">jdk.incubator.foreign</a></div>
<h1 title="Interface MemorySegment" class="title">Interface MemorySegment</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code><a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">MemorySegment</span>
extends <a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></pre>
<div class="block">A memory segment models a contiguous region of memory. A memory segment is associated with both spatial
 and temporal bounds. Spatial bounds ensure that memory access operations on a memory segment cannot affect a memory location
 which falls <em>outside</em> the boundaries of the memory segment being accessed. Temporal checks ensure that memory access
 operations on a segment cannot occur after a memory segment has been closed (see <a href="#close()"><code>close()</code></a>).
 <p>
 All implementations of this interface must be <a href="../../../../java.base/java/lang/doc-files/ValueBased.html">value-based</a>;
 use of identity-sensitive operations (including reference equality (<code>==</code>), identity hash code, or synchronization) on
 instances of <code>MemorySegment</code> may have unpredictable results and should be avoided. The <code>equals</code> method should
 be used for comparisons.
 <p>
 Non-platform classes should not implement <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a> directly.

 <h2>Constructing memory segments from different sources</h2>

 There are multiple ways to obtain a memory segment. First, memory segments backed by off-heap memory can
 be allocated using one of the many factory methods provided (see <a href="#allocateNative(jdk.incubator.foreign.MemoryLayout)"><code>allocateNative(MemoryLayout)</code></a>,
 <a href="#allocateNative(long)"><code>allocateNative(long)</code></a> and <a href="#allocateNative(long,long)"><code>allocateNative(long, long)</code></a>). Memory segments obtained
 in this way are called <em>native memory segments</em>.
 <p>
 It is also possible to obtain a memory segment backed by an existing heap-allocated Java array,
 using one of the provided factory methods (e.g. <a href="#ofArray(int%5B%5D)"><code>ofArray(int[])</code></a>). Memory segments obtained
 in this way are called <em>array memory segments</em>.
 <p>
 It is possible to obtain a memory segment backed by an existing Java byte buffer (see <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>),
 using the factory method <a href="#ofByteBuffer(java.nio.ByteBuffer)"><code>ofByteBuffer(ByteBuffer)</code></a>.
 Memory segments obtained in this way are called <em>buffer memory segments</em>. Note that buffer memory segments might
 be backed by native memory (as in the case of native memory segments) or heap memory (as in the case of array memory segments),
 depending on the characteristics of the byte buffer instance the segment is associated with. For instance, a buffer memory
 segment obtained from a byte buffer created with the <a href="../../../../java.base/java/nio/ByteBuffer.html#allocateDirect(int)"><code>ByteBuffer.allocateDirect(int)</code></a> method will be backed
 by native memory.
 <p>
 Finally, it is also possible to obtain a memory segment backed by a memory-mapped file using the factory method
 <a href="#mapFromPath(java.nio.file.Path,long,java.nio.channels.FileChannel.MapMode)"><code>mapFromPath(Path, long, FileChannel.MapMode)</code></a>. Such memory segments are called <em>mapped memory segments</em>.

 <h2>Closing a memory segment</h2>

 Memory segments are closed explicitly (see <a href="#close()"><code>close()</code></a>). In general when a segment is closed, all off-heap
 resources associated with it are released; this has different meanings depending on the kind of memory segment being
 considered:
 <ul>
     <li>closing a native memory segment results in <em>freeing</em> the native memory associated with it</li>
     <li>closing a mapped memory segment results in the backing memory-mapped file to be unmapped</li>
     <li>closing an acquired memory segment <b>does not</b> result in the release of resources
     (see the section on <a href="#thread-confinement">thread confinement</a> for more details)</li>
     <li>closing a buffer, or a heap segment does not have any side-effect, other than marking the segment
     as <em>not alive</em> (see <a href="#isAlive()"><code>isAlive()</code></a>). Also, since the buffer and heap segments might keep
     strong references to the original buffer or array instance, it is the responsibility of clients to ensure that
     these segments are discarded in a timely manner, so as not to prevent garbage collection to reclaim the underlying
     objects.</li>
 </ul>

 <h2><a id="thread-confinement">Thread confinement</a></h2>

 Memory segments support strong thread-confinement guarantees. Upon creation, they are assigned an <em>owner thread</em>,
 typically the thread which initiated the creation operation. After creation, only the owner thread will be allowed
 to directly manipulate the memory segment (e.g. close the memory segment) or access the underlying memory associated with
 the segment using a memory access var handle. Any attempt to perform such operations from a thread other than the
 owner thread will result in a runtime failure.
 <p>
 If a memory segment S owned by thread A needs to be used by thread B, B needs to explicitly <em>acquire</em> S,
 which will create a so called <em>acquired</em> memory segment owned by B (see <a href="#acquire()"><code>acquire()</code></a>) backed by the same resources
 as S. A memory segment can be acquired multiple times by one or more threads; in that case, a memory segment S cannot
 be closed until all the acquired memory segments derived from S have been closed. Furthermore, closing an acquired
 memory segment does <em>not</em> trigger any deallocation action. It is therefore important that clients remember to
 explicitly close the original segment from which the acquired memory segments have been obtained in order to truly
 ensure that off-heap resources associated with the memory segment are released.

 <h2>Memory segment views</h2>

 Memory segments support <em>views</em>. It is possible to create an <em>immutable</em> view of a memory segment
 (see <a href="#asReadOnly()"><code>asReadOnly()</code></a>) which does not support write operations. It is also possible to create views
 whose spatial bounds are stricter than the ones of the original segment (see <a href="#asSlice(long,long)"><code>asSlice(long, long)</code></a>).
 <p>
 Temporal bounds of the original segment are inherited by the view; that is, closing a segment view, such as a sliced
 view, will cause the original segment to be closed; as such special care must be taken when sharing views
 between multiple clients. If a client want to protect itself against early closure of a segment by
 another actor, it is the responsibility of that client to take protective measures, such as calling
 <a href="#acquire()"><code>acquire()</code></a> before sharing the view with another client.
 <p>
 To allow for interoperability with existing code, a byte buffer view can be obtained from a memory segment
 (see <a href="#asByteBuffer()"><code>asByteBuffer()</code></a>). This can be useful, for instance, for those clients that want to keep using the
 <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> API, but need to operate on large memory segments. Byte buffers obtained in such a way support
 the same spatial and temporal access restrictions associated to the memory address from which they originated.</div>
<dl>
<dt><span class="simpleTagLabel">API Note:</span></dt>
<dd>In the future, if the Java language permits, <a href="MemorySegment.html" title="interface in jdk.incubator.foreign"><code>MemorySegment</code></a>
 may become a <code>sealed</code> interface, which would prohibit subclassing except by
 explicitly permitted types.</dd>
<dt><span class="simpleTagLabel">Implementation Requirements:</span></dt>
<dd>Implementations of this interface are immutable and thread-safe.</dd>
</dl>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire()">acquire</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains an <a href="#thread-confinement">acquired</a> memory segment which can be used to access memory associated
 with this segment from the current thread.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocateNative(long)">allocateNative</a></span>&#8203;(long&nbsp;bytesSize)</code></th>
<td class="colLast">
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given size (in bytes).</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocateNative(long,long)">allocateNative</a></span>&#8203;(long&nbsp;bytesSize,
long&nbsp;alignmentBytes)</code></th>
<td class="colLast">
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given size and
 alignment constraint (in bytes).</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#allocateNative(jdk.incubator.foreign.MemoryLayout)">allocateNative</a></span>&#8203;(<a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</code></th>
<td class="colLast">
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given layout.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asByteBuffer()">asByteBuffer</a></span>()</code></th>
<td class="colLast">
<div class="block">Wraps this segment in a <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asReadOnly()">asReadOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtains a read-only view of this segment.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asSlice(long,long)">asSlice</a></span>&#8203;(long&nbsp;offset,
long&nbsp;newSize)</code></th>
<td class="colLast">
<div class="block">Obtains a new memory segment view whose base address is the same as the base address of this segment plus a given offset,
 and whose new size is specified by the given argument.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code><a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#baseAddress()">baseAddress</a></span>()</code></th>
<td class="colLast">
<div class="block">The base memory address associated with this memory segment.</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#byteSize()">byteSize</a></span>()</code></th>
<td class="colLast">
<div class="block">The size (in bytes) of this memory segment.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Closes this memory segment.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAlive()">isAlive</a></span>()</code></th>
<td class="colLast">
<div class="block">Is this segment alive?</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isReadOnly()">isReadOnly</a></span>()</code></th>
<td class="colLast">
<div class="block">Is this segment read-only?</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#mapFromPath(java.nio.file.Path,long,java.nio.channels.FileChannel.MapMode)">mapFromPath</a></span>&#8203;(<a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;path,
long&nbsp;bytesSize,
<a href="../../../../java.base/java/nio/channels/FileChannel.MapMode.html" title="class in java.nio.channels">FileChannel.MapMode</a>&nbsp;mapMode)</code></th>
<td class="colLast">
<div class="block">Creates a new mapped memory segment that models a memory-mapped region of a file from a given path.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(byte%5B%5D)">ofArray</a></span>&#8203;(byte[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated byte array.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(char%5B%5D)">ofArray</a></span>&#8203;(char[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated char array.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(double%5B%5D)">ofArray</a></span>&#8203;(double[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated double array.</div>
</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(float%5B%5D)">ofArray</a></span>&#8203;(float[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated float array.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(int%5B%5D)">ofArray</a></span>&#8203;(int[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated int array.</div>
</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(long%5B%5D)">ofArray</a></span>&#8203;(long[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated long array.</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofArray(short%5B%5D)">ofArray</a></span>&#8203;(short[]&nbsp;arr)</code></th>
<td class="colLast">
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated short array.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code>static <a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ofByteBuffer(java.nio.ByteBuffer)">ofByteBuffer</a></span>&#8203;(<a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&nbsp;bb)</code></th>
<td class="colLast">
<div class="block">Creates a new buffer memory segment that models the memory associated with the given byte
 buffer.</div>
</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code><a href="../../../../java.base/java/lang/Thread.html" title="class in java.lang">Thread</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ownerThread()">ownerThread</a></span>()</code></th>
<td class="colLast">
<div class="block">The thread owning this segment.</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>byte[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toByteArray()">toByteArray</a></span>()</code></th>
<td class="colLast">
<div class="block">Copy the contents of this memory segment into a fresh byte array.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="baseAddress()">baseAddress</a></h3>
<div class="memberSignature"><span class="returnType"><a href="MemoryAddress.html" title="interface in jdk.incubator.foreign">MemoryAddress</a></span>&nbsp;<span class="memberName">baseAddress</span>()</div>
<div class="block">The base memory address associated with this memory segment.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The base memory address.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="acquire()">acquire</a></h3>
<div class="memberSignature"><span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">acquire</span>()</div>
<div class="block">Obtains an <a href="#thread-confinement">acquired</a> memory segment which can be used to access memory associated
 with this segment from the current thread. As a side-effect, this segment cannot be closed until the acquired
 view has been closed too (see <a href="#close()"><code>close()</code></a>).</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an <a href="#thread-confinement">acquired</a> memory segment which can be used to access memory associated
 with this segment from the current thread.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ownerThread()">ownerThread</a></h3>
<div class="memberSignature"><span class="returnType"><a href="../../../../java.base/java/lang/Thread.html" title="class in java.lang">Thread</a></span>&nbsp;<span class="memberName">ownerThread</span>()</div>
<div class="block">The thread owning this segment.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the thread owning this segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="byteSize()">byteSize</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">byteSize</span>()</div>
<div class="block">The size (in bytes) of this memory segment.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The size (in bytes) of this memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asReadOnly()">asReadOnly</a></h3>
<div class="memberSignature"><span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">asReadOnly</span>()</div>
<div class="block">Obtains a read-only view of this segment. An attempt to write memory associated with a read-only memory segment
 will fail with <a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang"><code>UnsupportedOperationException</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a read-only view of this segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed, or if access occurs from a thread other than the
 thread owning this segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asSlice(long,long)">asSlice</a></h3>
<div class="memberSignature"><span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">asSlice</span>&#8203;(<span class="arguments">long&nbsp;offset,
long&nbsp;newSize)</span></div>
<div class="block">Obtains a new memory segment view whose base address is the same as the base address of this segment plus a given offset,
 and whose new size is specified by the given argument.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>offset</code> - The new segment base offset (relative to the current segment base address), specified in bytes.</dd>
<dd><code>newSize</code> - The new segment size, specified in bytes.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new memory segment view with updated base/limit addresses.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IndexOutOfBoundsException.html" title="class in java.lang">IndexOutOfBoundsException</a></code> - if <code>offset &lt; 0</code>, <code>offset &gt; byteSize()</code>, <code>newSize &lt; 0</code>, or <code>newSize &gt; byteSize() - offset</code></dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed, or if access occurs from a thread other than the
 thread owning this segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isAlive()">isAlive</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">isAlive</span>()</div>
<div class="block">Is this segment alive?</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, if the segment is alive.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#close()"><code>close()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isReadOnly()">isReadOnly</a></h3>
<div class="memberSignature"><span class="returnType">boolean</span>&nbsp;<span class="memberName">isReadOnly</span>()</div>
<div class="block">Is this segment read-only?</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, if the segment is read-only.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#asReadOnly()"><code>asReadOnly()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="close()">close</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">close</span>()</div>
<div class="block">Closes this memory segment. Once a memory segment has been closed, any attempt to use the memory segment,
 or to access the memory associated with the segment will fail with <a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang"><code>IllegalStateException</code></a>. Depending on
 the kind of memory segment being closed, calling this method further trigger deallocation of all the resources
 associated with the memory segment.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/AutoCloseable.html#close()">close</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../java.base/java/lang/AutoCloseable.html" title="interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed, or if access occurs from a thread other than the
 thread owning this segment, or if existing acquired views of this segment are still in use (see <a href="#acquire()"><code>acquire()</code></a>).</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="asByteBuffer()">asByteBuffer</a></h3>
<div class="memberSignature"><span class="returnType"><a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a></span>&nbsp;<span class="memberName">asByteBuffer</span>()</div>
<div class="block">Wraps this segment in a <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a>. Some of the properties of the returned buffer are linked to
 the properties of this segment. For instance, if this segment is <em>immutable</em>
 (see <a href="#asReadOnly()"><code>asReadOnly()</code></a>, then the resulting buffer is <em>read-only</em>
 (see <a href="../../../../java.base/java/nio/Buffer.html#isReadOnly()"><code>Buffer.isReadOnly()</code></a>. Additionally, if this is a native memory segment, the resulting buffer is
 <em>direct</em> (see <a href="../../../../java.base/java/nio/ByteBuffer.html#isDirect()"><code>ByteBuffer.isDirect()</code></a>).
 <p>
 The life-cycle of the returned buffer will be tied to that of this segment. That means that if the this segment
 is closed (see <a href="#close()"><code>close()</code></a>, accessing the returned
 buffer will throw an <a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang"><code>IllegalStateException</code></a>.
 <p>
 The resulting buffer's byte order is <a href="../../../../java.base/java/nio/ByteOrder.html#BIG_ENDIAN"><code>ByteOrder.BIG_ENDIAN</code></a>; this can be changed using
 <a href="../../../../java.base/java/nio/ByteBuffer.html#order(java.nio.ByteOrder)"><code>ByteBuffer.order(java.nio.ByteOrder)</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> view of this memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment cannot be mapped onto a <a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio"><code>ByteBuffer</code></a> instance,
 e.g. because it models an heap-based segment that is not based on a <code>byte[]</code>), or if its size is greater
 than <a href="../../../../java.base/java/lang/Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed, or if access occurs from a thread other than the
 thread owning this segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toByteArray()">toByteArray</a></h3>
<div class="memberSignature"><span class="returnType">byte[]</span>&nbsp;<span class="memberName">toByteArray</span>()</div>
<div class="block">Copy the contents of this memory segment into a fresh byte array.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a fresh byte array copy of this memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if this segment's contents cannot be copied into a <code>byte</code> instance,
 e.g. its size is greater than <a href="../../../../java.base/java/lang/Integer.html#MAX_VALUE"><code>Integer.MAX_VALUE</code></a>.</dd>
<dd><code><a href="../../../../java.base/java/lang/IllegalStateException.html" title="class in java.lang">IllegalStateException</a></code> - if this segment has been closed, or if access occurs from a thread other than the
 thread owning this segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofByteBuffer(java.nio.ByteBuffer)">ofByteBuffer</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofByteBuffer</span>&#8203;(<span class="arguments"><a href="../../../../java.base/java/nio/ByteBuffer.html" title="class in java.nio">ByteBuffer</a>&nbsp;bb)</span></div>
<div class="block">Creates a new buffer memory segment that models the memory associated with the given byte
 buffer. The segment starts relative to the buffer's position (inclusive)
 and ends relative to the buffer's limit (exclusive).
 <p>
 The resulting memory segment keeps a reference to the backing buffer, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bb</code> - the byte buffer backing the buffer memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new buffer memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(byte[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">byte[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated byte array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(char[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">char[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated char array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(short[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">short[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated short array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(int[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">int[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated int array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(float[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">float[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated float array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(long[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">long[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated long array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ofArray(double[])">ofArray</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">ofArray</span>&#8203;(<span class="arguments">double[]&nbsp;arr)</span></div>
<div class="block">Creates a new array memory segment that models the memory associated with a given heap-allocated double array.
 <p>
 The resulting memory segment keeps a reference to the backing array, to ensure it remains <em>reachable</em>
 for the life-time of the segment.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - the primitive array backing the array memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new array memory segment.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allocateNative(jdk.incubator.foreign.MemoryLayout)">allocateNative</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">allocateNative</span>&#8203;(<span class="arguments"><a href="MemoryLayout.html" title="interface in jdk.incubator.foreign">MemoryLayout</a>&nbsp;layout)</span></div>
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given layout.
 <p>
 This is equivalent to the following code:
 <blockquote><pre><code>
    allocateNative(layout.bytesSize(), layout.bytesAlignment());
 </code></pre></blockquote></div>
<dl>
<dt><span class="simpleTagLabel">Implementation Note:</span></dt>
<dd>The block of off-heap memory associated with the returned native memory segment is initialized to zero.
 Moreover, a client is responsible to call the <a href="#close()"><code>close()</code></a> on a native memory segment,
 to make sure the backing off-heap memory block is deallocated accordingly. Failure to do so will result in off-heap memory leaks.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>layout</code> - the layout of the off-heap memory block backing the native memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new native memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if the specified layout has illegal size or alignment constraint.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allocateNative(long)">allocateNative</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">allocateNative</span>&#8203;(<span class="arguments">long&nbsp;bytesSize)</span></div>
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given size (in bytes).
 <p>
 This is equivalent to the following code:
 <blockquote><pre><code>
    allocateNative(bytesSize, 1);
 </code></pre></blockquote></div>
<dl>
<dt><span class="simpleTagLabel">Implementation Note:</span></dt>
<dd>The block of off-heap memory associated with the returned native memory segment is initialized to zero.
 Moreover, a client is responsible to call the <a href="#close()"><code>close()</code></a> on a native memory segment,
 to make sure the backing off-heap memory block is deallocated accordingly. Failure to do so will result in off-heap memory leaks.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesSize</code> - the size (in bytes) of the off-heap memory block backing the native memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new native memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>bytesSize &lt; 0</code>.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="mapFromPath(java.nio.file.Path,long,java.nio.channels.FileChannel.MapMode)">mapFromPath</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">mapFromPath</span>&#8203;(<span class="arguments"><a href="../../../../java.base/java/nio/file/Path.html" title="interface in java.nio.file">Path</a>&nbsp;path,
long&nbsp;bytesSize,
<a href="../../../../java.base/java/nio/channels/FileChannel.MapMode.html" title="class in java.nio.channels">FileChannel.MapMode</a>&nbsp;mapMode)</span>
                          throws <span class="exceptions"><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></span></div>
<div class="block">Creates a new mapped memory segment that models a memory-mapped region of a file from a given path.</div>
<dl>
<dt><span class="simpleTagLabel">Implementation Note:</span></dt>
<dd>When obtaining a mapped segment from a newly created file, the initialization state of the contents of the block
 of mapped memory associated with the returned mapped memory segment is unspecified and should not be relied upon.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - the path to the file to memory map.</dd>
<dd><code>bytesSize</code> - the size (in bytes) of the mapped memory backing the memory segment.</dd>
<dd><code>mapMode</code> - a file mapping mode, see <a href="../../../../java.base/java/nio/channels/FileChannel.html#map(java.nio.channels.FileChannel.MapMode,long,long)"><code>FileChannel.map(FileChannel.MapMode, long, long)</code></a>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new mapped memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>bytesSize &lt; 0</code>.</dd>
<dd><code><a href="../../../../java.base/java/lang/UnsupportedOperationException.html" title="class in java.lang">UnsupportedOperationException</a></code> - if an unsupported map mode is specified.</dd>
<dd><code><a href="../../../../java.base/java/io/IOException.html" title="class in java.io">IOException</a></code> - if the specified path does not point to an existing file, or if some other I/O error occurs.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="allocateNative(long,long)">allocateNative</a></h3>
<div class="memberSignature"><span class="modifiers">static</span>&nbsp;<span class="returnType"><a href="MemorySegment.html" title="interface in jdk.incubator.foreign">MemorySegment</a></span>&nbsp;<span class="memberName">allocateNative</span>&#8203;(<span class="arguments">long&nbsp;bytesSize,
long&nbsp;alignmentBytes)</span></div>
<div class="block">Creates a new native memory segment that models a newly allocated block of off-heap memory with given size and
 alignment constraint (in bytes).</div>
<dl>
<dt><span class="simpleTagLabel">Implementation Note:</span></dt>
<dd>The block of off-heap memory associated with the returned native memory segment is initialized to zero.
 Moreover, a client is responsible to call the <a href="#close()"><code>close()</code></a> on a native memory segment,
 to make sure the backing off-heap memory block is deallocated accordingly. Failure to do so will result in off-heap memory leaks.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytesSize</code> - the size (in bytes) of the off-heap memory block backing the native memory segment.</dd>
<dd><code>alignmentBytes</code> - the alignment constraint (in bytes) of the off-heap memory block backing the native memory segment.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new native memory segment.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../java.base/java/lang/IllegalArgumentException.html" title="class in java.lang">IllegalArgumentException</a></code> - if <code>bytesSize &lt; 0</code>, <code>alignmentBytes &lt; 0</code>, or if <code>alignmentBytes</code>
 is not a power of 2.</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MemorySegment.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><div style="margin-top: 14px;"><strong>Java SE 14 &amp; JDK 14</strong> </div></div>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><a href="https://bugreport.java.com/bugreport/">Report a bug or suggest an enhancement</a><br> For further API reference and developer documentation see the <a href="https://docs.oracle.com/pls/topic/lookup?ctx=javase14.0.2&amp;id=homepage" target="_blank">Java SE Documentation</a>, which contains more detailed, developer-targeted descriptions with conceptual overviews, definitions of terms, workarounds, and working code examples.<br> Java is a trademark or registered trademark of Oracle and/or its affiliates in the US and other countries.<br> <a href="../../../../../legal/copyright.html">Copyright</a> &copy; 1993, 2020, Oracle and/or its affiliates, 500 Oracle Parkway, Redwood Shores, CA 94065 USA.<br>All rights reserved. Use is subject to <a href="https://www.oracle.com/technetwork/java/javase/terms/license/java14.0.2speclicense.html">license terms</a> and the <a href="https://www.oracle.com/technetwork/java/redist-137594.html">documentation redistribution policy</a>. <!-- Version 14.0.2+12-46 --></small></p>
</footer>
</div>
</div>
</body>
</html>
